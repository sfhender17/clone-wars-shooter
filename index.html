<!DOCTYPE html>
<html>
<head>
  <title>Clone Wars Shooter</title>
  <style>
    canvas {
      background: black;
      display: block;
      margin: 0 auto;
    }
    body {
      color: white;
      font-family: monospace;
      text-align: center;
      background: #000;
    }
  </style>
</head>
<body>
  <h1>Clone Wars Shooter</h1>
  <canvas id="game" width="800" height="400"></canvas>

  <script>
    const canvas = document.getElementById("game");
    const ctx = canvas.getContext("2d");

    let keys = {};
    let bullets = [];
    let droids = [];
    let score = 0;
    let health = 100;
    let gameOver = false;
    let gameState = "selecting";
    let cloneClass = null;

    // Load images
    const bgImage = new Image();
    bgImage.src = "tatooine.png";

    const playerImage = new Image();
    playerImage.src = "stormtrooper.png";

    const droidImage = new Image();
    droidImage.src = "droid.png";

    let imagesLoaded = 0;
    [bgImage, playerImage, droidImage].forEach(img => {
      img.onload = () => imagesLoaded++;
    });

    document.addEventListener("keydown", (e) => {
      keys[e.key] = true;
      if (gameState === "selecting" && ["1", "2", "3"].includes(e.key)) {
        selectClass(e.key);
        gameState = "playing";
      }
    });
    document.addEventListener("keyup", (e) => keys[e.key] = false);

    const player = {
      x: 50,
      y: 180,
      width: 32,
      height: 32,
      fireRate: 500,
      lastShot: 0,
      bulletSpeed: 7,
      draw() {
        ctx.drawImage(playerImage, this

